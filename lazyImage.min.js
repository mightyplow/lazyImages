(function(t,e){var r=t["MutationObserver"],n=t["IntersectionObserver"],i=t["Set"];if(!(r&&n&&i)){return}var u="data-";var c={threshold:0};var o={childList:true,subtree:true,attributeFilter:["src","srcset"]};function a(t){return Array.prototype.slice.call(t)}function f(t,e,r){t.setAttribute(r,t.getAttribute(e));t.removeAttribute(e)}function s(){throw"Must be implemented"}var v={a:s,b:s,c:function(){return u+this.a()},d:function(t){this.b(t).forEach(function(t){f(t,this.a(),this.c())}.bind(this))},e:function(t){this.b(t).forEach(function(t){f(t,this.c(),this.a())}.bind(this))},f:function(t){return this.b(t).every(function(t){return!!t.getAttribute(this.a())}.bind(this))}};var h=e.create(v,{a:{value:function(){return"src"}},b:{value:function(t){return[t]}}});var l=e.create(v,{a:{value:function(){return"srcset"}},b:{value:function(t){return a(t.querySelectorAll("source"))}}});function b(t){if(t instanceof HTMLImageElement){return h}else if(t instanceof HTMLPictureElement){return l}return null}function d(t){t.forEach(function(t){var e=t.target,r=b(e);r.e(e);E.unobserve(e)})}function m(t,e){return t.reduce(function(t,r){var n=a(r.addedNodes||[]);n.forEach(function(r){if(r instanceof HTMLElement){if(r.matches(e)){t.add(r)}r.querySelectorAll(e).forEach(function(e){t.add(e)})}});return t},new i)}var E=new n(d,c);var A=new r(function(t){var e=m(t,"img, picture");e.forEach(function(t){var e=b(t);if(e&&e.f(t)){e.d(t);E.observe(t)}})});A.observe(document,o)})(window,Object);
