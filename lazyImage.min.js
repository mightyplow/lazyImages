(function(t,e){var n=t["MutationObserver"],r=t["IntersectionObserver"],i=t["Set"];if(!(n&&r&&i)){return}var u="data-";var o={threshold:0};var c={childList:true,subtree:true};function a(t){return Array.prototype.slice.call(t)}function f(t,e,n){t.setAttribute(n,t.getAttribute(e));t.removeAttribute(e)}function s(t,n){var r=e.create(t);return e.assign(r,n)}var d={a:function(){return u+this.b},c:function(t){this.d(t).forEach(function(t){f(t,this.b,this.a())}.bind(this))},e:function(t){this.d(t).forEach(function(t){f(t,this.a(),this.b)}.bind(this))},f:function(t){return this.d(t).every(function(t){return!!t.getAttribute(this.b)}.bind(this))}};var h=s(d,{b:"src",d:function(t){return[t]}});var v=s(d,{b:"srcset",d:function(t){return a(t.querySelectorAll("source"))}});function b(t){if(t instanceof HTMLImageElement){return h}else if(t instanceof HTMLPictureElement){return v}return null}function l(t){t.forEach(function(t){var e=t.target,n=b(e);n.e(e);E.unobserve(e)})}function m(t,e){return t.reduce(function(t,n){var r=a(n.addedNodes||[]);r.forEach(function(n){if(n instanceof HTMLElement){if(n.matches(e)){t.add(n)}n.querySelectorAll(e).forEach(function(e){t.add(e)})}});return t},new i)}var E=new r(l,o);var A=new n(function(t){console.time("mutations");var e=m(t,"img, picture");e.forEach(function(t){var e=b(t);if(e&&e.f(t)){e.c(t);E.observe(t)}});console.timeEnd("mutations")});A.observe(document,c)})(window,Object);
